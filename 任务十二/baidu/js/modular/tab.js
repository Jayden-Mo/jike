/*
**************使用了  单例模式  实现页面中的列表切换功能***********************
单例优点：
  元素和事件相分离，代码更易于阅读;
  保护了属性和方法，防止互相干扰。
*/
define(function(require, exports, module) {

    var tab = {};
    //封装逻辑到代码块里面
    tab.init = function() {
        var me = this;
        //绑定DOM元素
        me.render();
        //为DOM元素执行事件
        me.bind();
    };

    //指定元素
    tab.render = function() {
        var me = this;
        me.menu = $(".user-menu a");
        me.contentTab = $(".s-content .tab");
        me.moreproduct = $('.moreproduct');
        me.moreLink = $('.tj_link_wrapper');
    };

    //绑定事件
    tab.bind = function() {
        var me = this;
        //更多产品
        me.moreproduct.hover(function() {
            $('.tj_link_wrapper').show();
        });
        me.moreLink.hover(function() {
            $('.tj_link_wrapper').show();
        }, function() {
            $('.tj_link_wrapper').hide();
        });
        //左栏导航点击切换标签
        me.menu.click(function() {
            $(".user-menu a").removeClass("current");
            $(this).addClass("current");
            var tid = $(this).attr("data-tid") - 1;
            var height = 320;
            $(".model-con").animate({
                "top": -height * tid
            });
        });
        //右栏导航点击切换标签
        me.contentTab.click(function() {
            var p = $(this).parents(".s-content");
            var tabs = p.find(".tab");
            var index = tabs.index(this);
            tabs.removeClass("tab-on");
            $(this).addClass("tab-on");
            p.find(".inner").hide();
            p.find(".inner").eq(index).show();
        });                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    };
    // return tab;
    module.exports = tab;
});

